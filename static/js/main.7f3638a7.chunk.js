(this.webpackJsonpphoto=this.webpackJsonpphoto||[]).push([[0],{207:function(e,t,n){},214:function(e,t){},216:function(e,t){},227:function(e,t){},229:function(e,t){},256:function(e,t){},258:function(e,t){},259:function(e,t){},264:function(e,t){},266:function(e,t){},272:function(e,t){},274:function(e,t){},293:function(e,t){},305:function(e,t){},308:function(e,t){},347:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(16),r=n.n(c),i=(n(207),n(62)),l=n.n(i),s=n(111),d=n(38),p=n(5),u=n(390),b=n(391),g=n(392),m=n(388),j=n(393),h=n(394),f=n(397),x=n(389),O=n(387),w=n(395),C=n(396),v=n(398),k=n(197),N=n(399),y=n(400),S=n(401),F=n(402),B=n(403),R=n(404),L=n(178),z=n.p+"static/media/bg.fa273077.jpg",I=n(195),W=n(68),E=n(194),G=n.n(E),D=n(193),T=n.n(D),P=n(9),M=n(328).default,q=new L.Dropbox({accessToken:"sl.BS-HxhqYQPeewcLiMZSJ9drAqgGmNEGZ5ChctB-x4GnuVa0KBbVFMdhrm-vqMOYMloio_tLfld-jt23_lq2BEw_I8BnZnse231hS7FaZPsvvamov36sdAphwStrxTiqIWyG0PeYczE_v"}),U=Object(p.a)((function(e){return{root:{color:e.palette.getContrastText(W.a.white),backgroundColor:W.a.white,"&:hover":{backgroundColor:"linear-gradient(45deg, #580358, transparent)"}}}}))(x.a),_=Object(u.a)((function(e){return{grow:{flexGrow:1},title:{fontFamily:"Cabin, sans-serif"},clearButton:{width:"-webkit-fill-available",borderRadius:"15px",padding:"15px 22px",color:"#000000a6",fontSize:"20px",fontWeight:900,fontFamily:"Carter One , cursive"},getButton:{width:"-webkit-fill-available",borderRadius:"105px",padding:"15px 22px",color:"#000000a6",fontSize:"20px",fontWeight:600,fontFamily:"Carter One , cursive"},root:{maxWidth:345,flexGrow:1},media:{height:400},paper:{padding:e.spacing(2),margin:"auto",maxWidth:500},gridContainer:{justifycontent:"center",padding:"4em 1em 0 1em"},mainContainer:{backgroundImage:"url(".concat(z,")"),backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover",height:"93vh",marginTop:"8px"},imageCard:{margin:"auto",maxWidth:400,height:500,backgroundColor:"transparent",boxShadow:"0px 9px 70px 0px rgb(0 0 0 / 30%) !important",borderRadius:"15px"},imageCardEmpty:{height:"auto"},noImage:{margin:"auto",width:400,height:"400 !important"},input:{display:"none"},uploadIcon:{background:"white"},tableContainer:{backgroundColor:"transparent !important",boxShadow:"none !important"},table:{backgroundColor:"transparent !important"},tableHead:{backgroundColor:"transparent !important"},tableRow:{backgroundColor:"transparent !important"},tableCell:{fontSize:"22px",backgroundColor:"transparent !important",borderColor:"transparent !important",color:"#000000a6 !important",fontWeight:"bolder",padding:"1px 24px 1px 16px"},tableCell1:{fontSize:"14px",backgroundColor:"transparent !important",borderColor:"transparent !important",color:"#000000a6 !important",fontWeight:"bolder",padding:"1px 24px 1px 16px"},tableBody:{backgroundColor:"transparent !important"},text:{color:"white !important",textAlign:"center"},buttonGrid:{maxWidth:"416px",width:"100%"},detail:{backgroundColor:"white",display:"flex",justifycontent:"center",flexDirection:"column",alignItems:"center"},appbar:{background:"linear-gradient(45deg, #580358, transparent)",boxShadow:"none",color:"white"},loader:{color:"#be6a77 !important"}}})),Y=function(){var e=_(),t=Object(a.useState)(),n=Object(d.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(),p=Object(d.a)(i,2),u=p[0],x=p[1],L=Object(a.useState)(),z=Object(d.a)(L,2),W=z[0],E=z[1],D=Object(a.useState)(!1),Y=Object(d.a)(D,2),Z=Y[0],A=Y[1],H=Object(a.useState)(!1),J=Object(d.a)(H,2),K=J[0],V=J[1],Q=Object(a.useState)(),X=Object(d.a)(Q,2),$=X[0],ee=X[1],te=Object(a.useState)(!1),ne=Object(d.a)(te,2),ae=ne[0],oe=ne[1],ce=0,re=function(){var e=Object(s.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Z){e.next=10;break}return t=new FormData,console.log("Sending file",$),t.append("file",$),e.next=6,M({method:"post",url:"https://ldd-server.herokuapp.com/predict",data:t}).catch((function(e){console.log(e)}));case 6:null!=(n=e.sent)&&200===n.status?(E(n.data),console.log(n.data),V(!1)):(alert("Check your Internet connection!!"),V(!0)),e.next=11;break;case 10:console.log("Couldn't send1!!");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ae){e.next=7;break}return e.next=3,q.filesListFolder({path:""}).then((function(e){q.filesGetThumbnail({path:e.result.entries[1].path_display,format:"jpeg",size:"w64h64"}).then((function(e){console.log(e.result,"getiing image");var t=document.createElement("img"),n=e.result.fileBlob;n.name="image.jpeg",n.lastModified=new Date;var a=new File([n],"image.jpeg",{type:"image/jpg"});console.log(a instanceof File,a),t.src=window.URL.createObjectURL(n),document.body.appendChild(t),ee(a)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}));case 3:e.sent,oe(!1),e.next=8;break;case 7:ee(c);case 8:console.log("Blob set");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){re()}),[$]),Object(a.useEffect)((function(){if(c){if(ae)x(c),console.log(ae);else try{var e=window.URL.createObjectURL(c);x(e)}catch(t){console.log("GOT URL ERROR!!!")}console.log("file selected`!!")}else x(void 0)}),[c]),Object(a.useEffect)((function(){u&&(console.log("preview set"),V(!0),ie())}),[u]);return W&&(ce=(100*parseFloat(W.confidence)).toFixed(2)),Object(P.jsxs)(o.a.Fragment,{children:[Object(P.jsx)(b.a,{position:"static",className:e.appbar,children:Object(P.jsxs)(g.a,{children:[Object(P.jsx)(m.a,{className:e.title,variant:"h6",noWrap:!0,children:"Leaf Disease Classification website"}),Object(P.jsx)("div",{className:e.grow})]})}),Object(P.jsx)(j.a,{maxWidth:!1,className:e.mainContainer,disableGutters:!0,children:Object(P.jsxs)(O.a,{className:e.gridContainer,container:!0,direction:"row",justifycontent:"center",alignItems:"center",spacing:2,children:[Object(P.jsx)(O.a,{item:!0,xs:12,children:Object(P.jsxs)(h.a,{className:"".concat(e.imageCard," ").concat(Z?"":e.imageCardEmpty),children:[Z&&Object(P.jsx)(w.a,{children:Object(P.jsx)(C.a,{className:e.media,image:u,component:"img",title:"Contemplative Reptile"})}),!Z&&Object(P.jsxs)(f.a,{className:e.content,children:[Object(P.jsx)(I.a,{acceptedFiles:["image/*"],dropzoneText:"Drag and drop an image of a plant leaf to process",onChange:function(e){if(!e||0===e.length)return r(void 0),A(!1),void E(void 0);console.log(e,"Done"),A(!0),r(e[0]),E(void 0)}}),Object(P.jsx)(T.a,{appKey:"pcwevk0ugf0wpes",success:function(e){return function(e){if(!e||0===e.length)return r(void 0),A(!1),void E(void 0);oe(!0),console.log(e,"Done from DB"),A(!0),r(e[0].thumbnailLink),console.log(e),E(void 0)}(e)},cancel:function(){return alert("Service canclled")},multiselect:!0,extensions:[".jpg"],children:Object(P.jsx)("div",{className:"dropbox-button",children:Object(P.jsx)(U,{variant:"contained",className:e.getButton,color:"primary",component:"span",size:"large",children:"Load Your Image!!"})})})]}),W&&Object(P.jsx)(f.a,{className:e.detail,children:Object(P.jsx)(v.a,{component:k.a,className:e.tableContainer,children:Object(P.jsxs)(N.a,{className:e.table,size:"small","aria-label":"simple table",children:[Object(P.jsx)(y.a,{className:e.tableHead,children:Object(P.jsxs)(S.a,{className:e.tableRow,children:[Object(P.jsx)(F.a,{className:e.tableCell1,children:"Label:"}),Object(P.jsx)(F.a,{align:"right",className:e.tableCell1,children:"Confidence:"})]})}),Object(P.jsx)(B.a,{className:e.tableBody,children:Object(P.jsxs)(S.a,{className:e.tableRow,children:[Object(P.jsx)(F.a,{component:"th",scope:"row",className:e.tableCell,children:W.class}),Object(P.jsxs)(F.a,{align:"right",className:e.tableCell,children:[ce,"%"]})]})})]})})}),K&&Object(P.jsxs)(f.a,{className:e.detail,children:[Object(P.jsx)(R.a,{color:"secondary",className:e.loader}),Object(P.jsx)(m.a,{className:e.title,variant:"h6",noWrap:!0,children:"Processing"})]})]})}),W&&Object(P.jsx)(O.a,{item:!0,className:e.buttonGrid,children:Object(P.jsx)(U,{variant:"contained",className:e.clearButton,color:"primary",component:"span",size:"large",onClick:function(){E(null),A(!1),r(null),x(null)},startIcon:Object(P.jsx)(G.a,{fontSize:"large"}),children:"Clear"})})]})})]})};var Z=function(){return Object(P.jsx)(Y,{})},A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,406)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),o(e),c(e),r(e)}))};r.a.render(Object(P.jsx)(o.a.StrictMode,{children:Object(P.jsx)(Z,{})}),document.getElementById("root")),A()}},[[347,1,2]]]);
//# sourceMappingURL=main.7f3638a7.chunk.js.map